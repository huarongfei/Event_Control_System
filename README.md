# Event Control System v2.0.0-pro

ä¼ä¸šçº§èµ›äº‹è®¡åˆ†ã€è®¡æ—¶ã€æ•°æ®åˆ†æä¸å®¡è®¡æ§åˆ¶ç³»ç»Ÿ

## ğŸ† ç³»ç»Ÿæ¦‚è¿°

Event Control System æ˜¯ä¸€æ¬¾ä¸“ä¸ºä¸“ä¸šä½“è‚²èµ›äº‹è®¾è®¡çš„å®Œæ•´è§£å†³æ–¹æ¡ˆï¼Œæä¾›ä»è®¡åˆ†è®¡æ—¶åˆ°æ•°æ®åˆ†æçš„å…¨å¥—åŠŸèƒ½ã€‚ç³»ç»Ÿé‡‡ç”¨å¾®æœåŠ¡åŒ–å•ä½“æ¶æ„ï¼Œæ”¯æŒç¯®çƒã€è¶³çƒç­‰å¤šç§è¿åŠ¨ç±»å‹ï¼Œå®ç°å®æ—¶æ•°æ®åŒæ­¥å’Œå®Œæ•´æ“ä½œå®¡è®¡ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸŸï¸ ä¸“é¡¹è®¡åˆ†å¼•æ“
- **ç¯®çƒè®¡åˆ†å¼•æ“**ï¼šç½šçƒ(1åˆ†)ã€ä¸¤åˆ†çƒ(2åˆ†)ã€ä¸‰åˆ†çƒ(3åˆ†)è®¡åˆ†
- **è¶³çƒè®¡åˆ†å¼•æ“**ï¼šè¿›çƒã€ç‚¹çƒã€ä¹Œé¾™çƒæ”¯æŒ
- **è§„åˆ™æ ¡éªŒ**ï¼šç¯®çƒ24ç§’è¿›æ”»æ—¶é’Ÿã€è¶³çƒè¶Šä½è§„åˆ™ã€é»„ç‰Œç´¯ç§¯(2å¼ =çº¢ç‰Œ)
- **çŠ¯è§„ç®¡ç†**ï¼šæ™®é€šçŠ¯è§„ã€æŠ€æœ¯çŠ¯è§„ã€è¿›æ”»çŠ¯è§„ç­‰ç±»å‹
- **æš‚åœæ§åˆ¶**ï¼šä¸»å®¢é˜Ÿæš‚åœç®¡ç†
- **äº‹ä»¶æ’¤é”€**ï¼šæ”¯æŒå¾—åˆ†äº‹ä»¶æ’¤é”€ï¼Œé˜²æ­¢è¯¯æ“ä½œ

### â±ï¸ é«˜ç²¾åº¦è®¡æ—¶ç³»ç»Ÿ
- æ¯«ç§’çº§ç²¾åº¦è®¡æ—¶ï¼ˆ10msï¼‰
- æ”¯æŒå€’è®¡æ—¶/æ­£è®¡æ—¶/ç§’è¡¨ä¸‰ç§æ¨¡å¼
- å¤šè®¡æ—¶å™¨å¹¶å‘ç®¡ç†ï¼ˆä¸»æ—¶é’Ÿã€èŠ‚æ¬¡æ—¶é’Ÿã€è¿›æ”»æ—¶é’Ÿï¼‰
- å¿«é€Ÿæ—¶é—´è°ƒæ•´ï¼ˆÂ±1/Â±10ç§’æˆ–è‡ªå®šä¹‰ï¼‰
- è‡ªåŠ¨åŒæ­¥æœºåˆ¶

### ğŸ“Š æ•°æ®åˆ†ææ¨¡å—
- å®æ—¶ç»Ÿè®¡è®¡ç®—ï¼ˆæŠ•ç¯®å‘½ä¸­ç‡ã€ä¸‰åˆ†å‘½ä¸­ç‡ã€ç½šçƒå‘½ä¸­ç‡ï¼‰
- æ¯”èµ›è¡¨ç°åˆ†æ
- å…³é”®æ—¶åˆ»è¯†åˆ«
- åŠ¨é‡è®¡ç®—
- å¾—åˆ†é«˜æ½®æ£€æµ‹
- æ—¶é—´åºåˆ—è¶‹åŠ¿åˆ†æ

### ğŸ” æ“ä½œå®¡è®¡ç³»ç»Ÿ
- å®Œæ•´çš„æ“ä½œæ—¥å¿—è®°å½•ï¼ˆæ‰€æœ‰APIæ“ä½œï¼‰
- å¤šç»´åº¦æŸ¥è¯¢ï¼ˆç”¨æˆ·ã€èµ„æºã€æ“ä½œç±»å‹ã€æ—¶é—´èŒƒå›´ï¼‰
- æ—¥å¿—ç»Ÿè®¡åˆ†æï¼ˆä»Šæ—¥æ“ä½œã€æ´»è·ƒç”¨æˆ·ã€é”™è¯¯æ•°ï¼‰
- æ—¥å¿—å¯¼å‡ºï¼ˆJSONæ ¼å¼ï¼‰
- è‡ªåŠ¨æ¸…ç†ï¼ˆ90å¤©TTLè¿‡æœŸï¼‰

### ğŸ“± å¤šç•Œé¢ç³»ç»Ÿ
- **Dashboard** - æ§åˆ¶å°é¦–é¡µï¼Œå®æ—¶ç»Ÿè®¡æ¦‚è§ˆ
- **MatchList** - èµ›äº‹ç®¡ç†ï¼Œæ¯”èµ›CRUDæ“ä½œ
- **MatchControl** - æ¯”èµ›æ§åˆ¶å°ï¼Œå¾—åˆ†ã€çŠ¯è§„ã€è®¡æ—¶æ§åˆ¶
- **ScoreHistory** - å¾—åˆ†å†å²ï¼Œäº‹ä»¶æ—¶é—´çº¿ã€ç­›é€‰
- **TimerControl** - è®¡æ—¶å™¨ç®¡ç†ï¼Œå¤šè®¡æ—¶å™¨å¹¶å‘æ§åˆ¶
- **DisplayScreen** - å¤§å±å±•ç¤ºï¼Œå®æ—¶æ¯”åˆ†ã€å…¨å±æ˜¾ç¤º
- **Analytics** - æ•°æ®åˆ†æï¼Œç»Ÿè®¡å›¾è¡¨ã€è¶‹åŠ¿åˆ†æ
- **AuditLogs** - å®¡è®¡æ—¥å¿—ï¼Œæ“ä½œè®°å½•ã€æŸ¥è¯¢å¯¼å‡º

### ğŸ³ å®¹å™¨åŒ–éƒ¨ç½²
- Dockerå¤šé˜¶æ®µæ„å»º
- Docker Composeå®Œæ•´ç¼–æ’
- MongoDB 7.0 æ•°æ®åº“
- Redis 7.2 ç¼“å­˜
- Nginxåå‘ä»£ç†

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **æ¡†æ¶**: React 18 + TypeScript + Vite
- **UI ç»„ä»¶**: Ant Design 5.x + Ant Design Icons
- **çŠ¶æ€ç®¡ç†**: Zustand
- **å®æ—¶é€šä¿¡**: WebSocket Hook
- **æ ·å¼**: Tailwind CSS + CSS Modules

### åç«¯
- **è¿è¡Œæ—¶**: Node.js 20 LTS
- **æ¡†æ¶**: Express.js 4.x + TypeScript
- **å®æ—¶é€šä¿¡**: WebSocket
- **æ•°æ®åº“**: MongoDB 7.xï¼ˆä¸»æ•°æ®ï¼‰+ Redis 7.xï¼ˆç¼“å­˜ï¼‰
- **è®¤è¯**: JWT + bcrypt
- **éƒ¨ç½²**: Docker + Docker Compose

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
Event_Control_System/
â”œâ”€â”€ client/                           # å‰ç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/               # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/                    # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Login.tsx             # ç™»å½•é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx         # æ§åˆ¶å°
â”‚   â”‚   â”‚   â”œâ”€â”€ MatchList.tsx         # èµ›äº‹åˆ—è¡¨
â”‚   â”‚   â”‚   â”œâ”€â”€ MatchControl.tsx      # æ¯”èµ›æ§åˆ¶å°
â”‚   â”‚   â”‚   â”œâ”€â”€ ScoreHistory.tsx      # å¾—åˆ†å†å²
â”‚   â”‚   â”‚   â”œâ”€â”€ TimerControl.tsx      # è®¡æ—¶å™¨ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ DisplayScreen.tsx     # å¤§å±å±•ç¤º
â”‚   â”‚   â”‚   â”œâ”€â”€ Analytics.tsx         # æ•°æ®åˆ†æ
â”‚   â”‚   â”‚   â””â”€â”€ AuditLogs.tsx         # å®¡è®¡æ—¥å¿—
â”‚   â”‚   â”œâ”€â”€ stores/                   # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ services/                 # API æœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ match.ts              # æ¯”èµ›API
â”‚   â”‚   â”‚   â”œâ”€â”€ scoreEngine.ts        # è®¡åˆ†å¼•æ“API
â”‚   â”‚   â”‚   â”œâ”€â”€ timer.ts              # è®¡æ—¶å™¨API
â”‚   â”‚   â”‚   â”œâ”€â”€ analytics.ts         # åˆ†æAPI
â”‚   â”‚   â”‚   â””â”€â”€ audit.ts              # å®¡è®¡API
â”‚   â”‚   â”œâ”€â”€ hooks/                    # è‡ªå®šä¹‰Hooks
â”‚   â”‚   â”‚   â””â”€â”€ useWebSocket.ts       # WebSocket Hook
â”‚   â”‚   â””â”€â”€ App.tsx                   # æ ¹ç»„ä»¶
â”‚   â”œâ”€â”€ Dockerfile                    # å‰ç«¯Dockeré…ç½®
â”‚   â”œâ”€â”€ nginx.conf                    # Nginxé…ç½®
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ server/                           # åç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ config/                   # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ controllers/              # æ§åˆ¶å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ matchController.ts    # æ¯”èµ›æ§åˆ¶å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ scoreEngineController.ts  # è®¡åˆ†å¼•æ“æ§åˆ¶å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ timerController.ts    # è®¡æ—¶å™¨æ§åˆ¶å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ analyticsController.ts # åˆ†ææ§åˆ¶å™¨
â”‚   â”‚   â”‚   â””â”€â”€ auditController.ts    # å®¡è®¡æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ docs/                     # æ–‡æ¡£
â”‚   â”‚   â”‚   â””â”€â”€ score-engine.md       # è®¡åˆ†å¼•æ“æ–‡æ¡£
â”‚   â”‚   â”œâ”€â”€ engines/                  # è®¡åˆ†å¼•æ“
â”‚   â”‚   â”‚   â”œâ”€â”€ ScoreEngine.ts        # è®¡åˆ†å¼•æ“åŸºç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ BasketballScoreEngine.ts  # ç¯®çƒè®¡åˆ†å¼•æ“
â”‚   â”‚   â”‚   â”œâ”€â”€ FootballScoreEngine.ts     # è¶³çƒè®¡åˆ†å¼•æ“
â”‚   â”‚   â”‚   â””â”€â”€ ScoreEngineFactory.ts      # å¼•æ“å·¥å‚
â”‚   â”‚   â”œâ”€â”€ timers/                   # è®¡æ—¶å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ Timer.ts              # è®¡æ—¶å™¨åŸºç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ MatchTimerManager.ts  # è®¡æ—¶å™¨ç®¡ç†å™¨
â”‚   â”‚   â”‚   â””â”€â”€ TimerManagerFactory.ts     # è®¡æ—¶å™¨å·¥å‚
â”‚   â”‚   â”œâ”€â”€ analytics/                # æ•°æ®åˆ†æ
â”‚   â”‚   â”‚   â”œâ”€â”€ AnalyticsEngine.ts    # åˆ†æå¼•æ“
â”‚   â”‚   â”‚   â””â”€â”€ MatchAnalyzer.ts      # æ¯”èµ›åˆ†æå™¨
â”‚   â”‚   â”œâ”€â”€ audit/                    # å®¡è®¡æ—¥å¿—
â”‚   â”‚   â”‚   â”œâ”€â”€ AuditLogger.ts        # å®¡è®¡æ—¥å¿—è®°å½•å™¨
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ models/                   # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ Match.ts              # æ¯”èµ›æ¨¡å‹
â”‚   â”‚   â”‚   â””â”€â”€ AuditLog.ts           # å®¡è®¡æ—¥å¿—æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ middleware/               # ä¸­é—´ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts               # è®¤è¯ä¸­é—´ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ audit.ts              # å®¡è®¡ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ routes/                   # è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ match.ts              # æ¯”èµ›è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ scoreEngine.ts        # è®¡åˆ†å¼•æ“è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ timer.ts              # è®¡æ—¶å™¨è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ analytics.ts          # åˆ†æè·¯ç”±
â”‚   â”‚   â”‚   â””â”€â”€ audit.ts              # å®¡è®¡è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ types/                    # ç±»å‹å®šä¹‰
â”‚   â”‚   â”‚   â”œâ”€â”€ scoreEngine.ts        # è®¡åˆ†å¼•æ“ç±»å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ timer.ts              # è®¡æ—¶å™¨ç±»å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ analytics.ts          # åˆ†æç±»å‹
â”‚   â”‚   â”‚   â””â”€â”€ audit.ts              # å®¡è®¡ç±»å‹
â”‚   â”‚   â”œâ”€â”€ examples/                 # ç¤ºä¾‹ä»£ç 
â”‚   â”‚   â”‚   â””â”€â”€ scoreEngineUsage.ts   # è®¡åˆ†å¼•æ“ç¤ºä¾‹
â”‚   â”‚   â””â”€â”€ app.ts                    # å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ Dockerfile                    # åç«¯Dockeré…ç½®
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ nginx/                            # Nginx é…ç½®
â”‚   â””â”€â”€ nginx.conf                    # ç”Ÿäº§ç¯å¢ƒ Nginx é…ç½®
â”œâ”€â”€ docs/                             # æ–‡æ¡£ç›®å½•
â”œâ”€â”€ docker-compose.yml                # Docker ç¼–æ’
â”œâ”€â”€ .dockerignore                     # Dockerå¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ .env.docker                       # Dockerç¯å¢ƒå˜é‡æ¨¡æ¿
â””â”€â”€ DEPLOYMENT.md                     # éƒ¨ç½²æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Node.js 20 LTS æˆ–æ›´é«˜ç‰ˆæœ¬
- MongoDB 7.x
- Redis 7.x
- Docker & Docker Composeï¼ˆå¯é€‰ï¼Œç”¨äºå®¹å™¨åŒ–éƒ¨ç½²ï¼‰

### å®‰è£…æ­¥éª¤

#### æ–¹å¼ä¸€ï¼šDockeréƒ¨ç½²ï¼ˆæ¨èï¼‰

1. **å…‹éš†é¡¹ç›®**
```bash
git clone https://github.com/huarongfei/Event_Control_System.git
cd Event_Control_System
```

2. **é…ç½®ç¯å¢ƒå˜é‡**
```bash
cp .env.docker .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œé…ç½®æ•°æ®åº“è¿æ¥å’Œå¯†é’¥
```

3. **å¯åŠ¨æ‰€æœ‰æœåŠ¡**
```bash
docker-compose up -d
```

4. **è®¿é—®åº”ç”¨**
- å‰ç«¯: http://localhost:80
- åç«¯ API: http://localhost:5000

#### æ–¹å¼äºŒï¼šæœ¬åœ°å¼€å‘

1. **å®‰è£…ä¾èµ–**
```bash
npm run install:all
```

2. **å¯åŠ¨æ•°æ®åº“æœåŠ¡**
```bash
# MongoDB
docker run -d -p 27017:27017 --name mongodb mongo:7

# Redis
docker run -d -p 6379:6379 --name redis redis:7-alpine
```

3. **é…ç½®ç¯å¢ƒå˜é‡**
```bash
cp .env.docker .env
# ç¼–è¾‘ .env æ–‡ä»¶
```

4. **å¯åŠ¨åº”ç”¨**
```bash
# å¼€å‘æ¨¡å¼ï¼ˆåŒæ—¶å¯åŠ¨å‰ç«¯å’Œåç«¯ï¼‰
npm run dev

# æˆ–åˆ†åˆ«å¯åŠ¨
npm run dev:server  # åç«¯
npm run dev:client  # å‰ç«¯
```

5. **è®¿é—®åº”ç”¨**
- å‰ç«¯: http://localhost:5173
- åç«¯ API: http://localhost:5000

## ğŸ“ API æ–‡æ¡£

### è®¤è¯æ¥å£

#### ç™»å½•
```http
POST /api/auth/login
Content-Type: application/json

{
  "username": "admin",
  "password": "password123"
}
```

#### æ³¨å†Œ
```http
POST /api/auth/register
Content-Type: application/json

{
  "username": "newuser",
  "email": "user@example.com",
  "password": "password123",
  "role": "operator"
}
```

### èµ›äº‹æ¥å£

#### åˆ›å»ºèµ›äº‹
```http
POST /api/matches
Authorization: Bearer <token>
Content-Type: application/json

{
  "name": "NBA Finals Game 1",
  "sport": "basketball",
  "homeTeam": {
    "name": "Lakers",
    "primaryColor": "#552583",
    "jerseyColor": "#FDB927"
  },
  "awayTeam": {
    "name": "Celtics",
    "primaryColor": "#008348",
    "jerseyColor": "#FFFFFF"
  },
  "startTime": "2024-06-06T20:00:00Z"
}
```

#### è·å–èµ›äº‹åˆ—è¡¨
```http
GET /api/matches?page=1&limit=10&status=live
Authorization: Bearer <token>
```

### è®¡åˆ†å¼•æ“æ¥å£

#### æ·»åŠ å¾—åˆ†äº‹ä»¶
```http
POST /api/score-engine/matches/:matchId/score-events
Authorization: Bearer <token>
Content-Type: application/json

{
  "team": "home",
  "eventType": "two_point_make",
  "playerId": "player123",
  "playerName": "Stephen Curry",
  "playerNumber": 30,
  "period": 1,
  "shotClock": 10
}
```

#### æ’¤é”€å¾—åˆ†äº‹ä»¶
```http
DELETE /api/score-engine/matches/:matchId/score-events/:eventId
Authorization: Bearer <token>
```

#### è·å–å¾—åˆ†å†å²
```http
GET /api/score-engine/matches/:matchId/score-history
Authorization: Bearer <token>
```

#### è·å–æ¯”èµ›ç»Ÿè®¡
```http
GET /api/score-engine/matches/:matchId/stats
Authorization: Bearer <token>
```

#### è®°å½•çŠ¯è§„
```http
POST /api/score-engine/matches/:matchId/foul
Authorization: Bearer <token>
Content-Type: application/json

{
  "team": "home",
  "playerId": "player123",
  "playerName": "Player Name",
  "playerNumber": 4,
  "foulType": "technical",
  "period": 1
}
```

#### è®°å½•æš‚åœ
```http
POST /api/score-engine/matches/:matchId/timeout
Authorization: Bearer <token>
Content-Type: application/json

{
  "team": "home"
}
```

#### è¶³çƒ - å‘æ”¾é»„ç‰Œ
```http
POST /api/score-engine/matches/:matchId/yellow-card
Authorization: Bearer <token>
Content-Type: application/json

{
  "team": "home",
  "playerId": "player123",
  "playerName": "Player Name",
  "playerNumber": 4
}
```

### è®¡æ—¶å™¨æ¥å£

#### å¯åŠ¨è®¡æ—¶å™¨
```http
POST /api/timers/matches/:matchId/timers/:timerId/start
Authorization: Bearer <token>
```

#### æš‚åœè®¡æ—¶å™¨
```http
POST /api/timers/matches/:matchId/timers/:timerId/pause
Authorization: Bearer <token>
```

#### é‡ç½®è®¡æ—¶å™¨
```http
POST /api/timers/matches/:matchId/timers/:timerId/reset
Authorization: Bearer <token>
```

#### è°ƒæ•´æ—¶é—´
```http
POST /api/timers/matches/:matchId/timers/:timerId/adjust
Authorization: Bearer <token>
Content-Type: application/json

{
  "seconds": 10
}
```

#### è®¾ç½®æ—¶é•¿
```http
PUT /api/timers/matches/:matchId/timers/:timerId/duration
Authorization: Bearer <token>
Content-Type: application/json

{
  "duration": 720
}
```

### æ•°æ®åˆ†ææ¥å£

#### è·å–ä»ªè¡¨æ¿ç»Ÿè®¡
```http
GET /api/analytics/dashboard
Authorization: Bearer <token>
```

#### è·å–æ¯”èµ›ç»Ÿè®¡
```http
GET /api/analytics/matches/:matchId
Authorization: Bearer <token>
```

#### è·å–è¶‹åŠ¿æ•°æ®
```http
GET /api/analytics/trends?startDate=2024-01-01&endDate=2024-12-31
Authorization: Bearer <token>
```

### å®¡è®¡æ—¥å¿—æ¥å£

#### æŸ¥è¯¢å®¡è®¡æ—¥å¿—
```http
GET /api/audit/logs?page=1&limit=20&action=CREATE&resource=Match
Authorization: Bearer <token>
```

#### å¯¼å‡ºå®¡è®¡æ—¥å¿—
```http
GET /api/audit/logs/export?startDate=2024-01-01&endDate=2024-12-31
Authorization: Bearer <token>
```

#### è·å–ç»Ÿè®¡ä¿¡æ¯
```http
GET /api/audit/stats
Authorization: Bearer <token>
```

#### æ¸…ç†æ—§æ—¥å¿—
```http
POST /api/audit/clean
Authorization: Bearer <token>
```

è¯¦ç»†çš„è®¡åˆ†å¼•æ“æ–‡æ¡£è¯·å‚è€ƒ: [server/docs/score-engine.md](server/docs/score-engine.md)

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

| å˜é‡å | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|--------|
| `PORT` | æœåŠ¡å™¨ç«¯å£ | 5000 |
| `NODE_ENV` | è¿è¡Œç¯å¢ƒ | development |
| `MONGODB_URI` | MongoDB è¿æ¥å­—ç¬¦ä¸² | mongodb://localhost:27017/event-control |
| `REDIS_URL` | Redis è¿æ¥å­—ç¬¦ä¸² | redis://localhost:6379 |
| `JWT_SECRET` | JWT ç­¾åå¯†é’¥ | change-me-in-production |
| `JWT_EXPIRES_IN` | Token è¿‡æœŸæ—¶é—´ | 24h |
| `CLIENT_URL` | å‰ç«¯ URL | http://localhost:5173 |
| `CORS_ORIGIN` | CORS å…è®¸æº | http://localhost:5173 |

### å‰ç«¯ç¯å¢ƒå˜é‡ (client/.env)

| å˜é‡å | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|--------|
| `VITE_API_URL` | åç«¯ API åœ°å€ | http://localhost:5000/api |
| `VITE_WS_URL` | WebSocket åœ°å€ | ws://localhost:5000 |

## ğŸ³ Docker éƒ¨ç½²

è¯¦ç»†éƒ¨ç½²æ–‡æ¡£è¯·å‚è€ƒ: [DEPLOYMENT.md](DEPLOYMENT.md)

### å¿«é€Ÿéƒ¨ç½²

```bash
# æ„å»ºå¹¶å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# åœæ­¢æ‰€æœ‰æœåŠ¡
docker-compose down

# åœæ­¢å¹¶åˆ é™¤æ•°æ®å·
docker-compose down -v
```

## ğŸ“Š ç³»ç»Ÿæ€§èƒ½

| æŒ‡æ ‡ | æ•°å€¼ |
|------|------|
| å“åº”å»¶è¿Ÿ | < 100ms |
| è®¡æ—¶ç²¾åº¦ | 10ms |
| å¹¶å‘è¿æ¥ | 50+ |
| æ—¥å¿—ä¿ç•™ | 90å¤©ï¼ˆè‡ªåŠ¨æ¸…ç†ï¼‰ |
| å¯ç”¨æ€§ | 7Ã—24å°æ—¶ |

## ğŸ¯ å‰ç«¯è·¯ç”±

| è·¯å¾„ | é¡µé¢ | è¯´æ˜ |
|------|------|------|
| `/login` | ç™»å½• | ç”¨æˆ·ç™»å½• |
| `/dashboard` | æ§åˆ¶å° | æ•°æ®æ¦‚è§ˆ |
| `/matches` | èµ›äº‹åˆ—è¡¨ | æ¯”èµ›ç®¡ç† |
| `/matches/:id/control` | æ¯”èµ›æ§åˆ¶ | å¾—åˆ†ã€çŠ¯è§„æ§åˆ¶ |
| `/matches/:id/history` | å¾—åˆ†å†å² | äº‹ä»¶è®°å½• |
| `/matches/:id/timers` | è®¡æ—¶å™¨ç®¡ç† | æ—¶é—´æ§åˆ¶ |
| `/display/:id` | å¤§å±å±•ç¤º | å®æ—¶æ¯”åˆ† |
| `/analytics` | æ•°æ®åˆ†æ | ç»Ÿè®¡å›¾è¡¨ |
| `/audit-logs` | å®¡è®¡æ—¥å¿— | æ“ä½œè®°å½• |

## ğŸ” å®‰å…¨ç‰¹æ€§

- JWT + RBAC æƒé™æ§åˆ¶
- æ“ä½œå®¡è®¡æ—¥å¿—ï¼ˆæ‰€æœ‰æ“ä½œå¯è¿½æº¯ï¼‰
- å¯†ç  bcrypt åŠ å¯†
- é€Ÿç‡é™åˆ¶å’Œé˜²åˆ·
- CORS å’Œ Helmet å®‰å…¨å¤´
- ç¯å¢ƒå˜é‡é…ç½®æ•æ„Ÿä¿¡æ¯

## ğŸ“š æ–‡æ¡£

- [éƒ¨ç½²æŒ‡å—](DEPLOYMENT.md)
- [è®¡åˆ†å¼•æ“æ–‡æ¡£](server/docs/score-engine.md)
- [é¡¹ç›®æ€»ç»“](docs/PROJECT_SUMMARY.md)
- [å¿«é€Ÿå¯åŠ¨](QUICKSTART.md)

## ğŸ§ª æµ‹è¯•

### å•å…ƒæµ‹è¯•
```bash
cd server
npm test
```

### æµ‹è¯•è®¡åˆ†å¼•æ“
```bash
cd server
npm run test:score-engine
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ… ç‰ˆæœ¬å†å²

- **v2.0.0-pro** (2026-02-20)
  - âœ… ç¯®çƒ/è¶³çƒä¸“é¡¹è®¡åˆ†å¼•æ“
  - âœ… é«˜ç²¾åº¦è®¡æ—¶ç³»ç»Ÿï¼ˆ10msï¼‰
  - âœ… æ•°æ®åˆ†ææ¨¡å—
  - âœ… æ“ä½œå®¡è®¡æ—¥å¿—ç³»ç»Ÿ
  - âœ… 8ä¸ªå‰ç«¯é¡µé¢å®Œæ•´å®ç°
  - âœ… Dockerå®¹å™¨åŒ–éƒ¨ç½²
  - âœ… å®Œæ•´APIæ¥å£æ–‡æ¡£
  - âœ… TypeScriptç±»å‹å®‰å…¨

---

<div align="center">
  <sub>Built with â¤ï¸ by the Event Control Team</sub>
  <p><strong>ä¸“ä¸š Â· ç¨³å®š Â· å®æ—¶</strong></p>
</div>
